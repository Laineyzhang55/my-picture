(this.webpackJsonpmy_picture=this.webpackJsonpmy_picture||[]).push([[13],{364:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(0),l=n.n(r),u=n(366),c=n(135),i=n(228),o=n(369),s=n(54),d=n(16),m=n(57),h=n(7);function g(){var e=Object(a.a)(["\n  margin: 50px auto;\n  max-width: 900px;\n  padding: 20px 100px;\n  border: 1px dashed #ccc;\n"]);return g=function(){return e},e}function p(){var e=Object(a.a)(["\n  max-width: 300px;\n"]);return p=function(){return e},e}function f(){var e=Object(a.a)(["\n  margin: 20px auto;\n  max-width: 900px;\n  background: #ff5500;\n  text-align: center;\n  font-size: 18px;\n"]);return f=function(){return e},e}function E(){var e=Object(a.a)(["\n  margin: 20px auto;\n  max-width: 900px;\n"]);return E=function(){return e},e}var b=d.a.div(E()),v=d.a.div(f()),x=d.a.img(p()),w=d.a.div(g()),j=u.a.Dragger,O=Object(m.a)((function(){var e=Object(s.a)(),t=e.ImageStore,n=e.UserStore,a=Object(r.useRef)(),u=Object(r.useRef)(),d=Object(h.d)((function(){return{width:null,setWidth:function(e){d.width=e},get widthStr(){return d.width?"/w/".concat(d.width):""},height:null,setHeight:function(e){d.height=e},get heightStr(){return d.height?"/h/".concat(d.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+d.widthStr+d.heightStr}}})),m={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===n.currentUser?(c.a.warning("\u8bf7\u5148\u767b\u5f55"),!1):(t.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(e){console.error(e.message)})),!1)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null,n.currentUser?null:l.a.createElement("div",null,"\u8bf7\u767b\u5f55\u540e\u518d\u4e0a\u4f20\uff01")),l.a.createElement(b,null,l.a.createElement(i.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:t.isUploading},l.a.createElement(j,m,l.a.createElement("p",{className:"ant-upload-drag-icon"},l.a.createElement(o.a,null)),l.a.createElement("p",{className:"ant-upload-text"},"\u8bf7\u70b9\u51fb\u6216\u62d6\u62fd\u4e0a\u4f20\u56fe\u54c1"),l.a.createElement("p",{className:"ant-upload-hint"},"\u652f\u6301.png/.jpg/.svg/.gif\u56fe\u7247\u683c\u5f0f")))),t.serverFile?l.a.createElement(w,null,l.a.createElement("h2",null,"\u4e0a\u4f20\u7ed3\u679c"),l.a.createElement("dl",null,l.a.createElement("dt",null,"\u7ebf\u4e0a\u5730\u5740"),l.a.createElement("dd",null,l.a.createElement("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url},t.serverFile.attributes.url.attributes.url)),l.a.createElement("dt",null,"\u6587\u4ef6\u540d"),l.a.createElement("dd",null,t.filename),l.a.createElement("dt",null,"\u56fe\u7247\u9884\u89c8"),l.a.createElement("dd",null,l.a.createElement(x,{src:t.serverFile.attributes.url.attributes.url})),l.a.createElement("dt",null,"\u81ea\u5b9a\u4e49\u5c3a\u5bf8"),l.a.createElement("dd",null,l.a.createElement("input",{ref:a,onChange:function(){d.setWidth(a.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009\uff09"}),l.a.createElement("input",{ref:u,onChange:function(){d.setHeight(u.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6\uff08\u53ef\u9009\uff09"})),l.a.createElement("dd",null,l.a.createElement("a",{target:"_blank",href:d.fullStr},d.fullStr)))):null)}));t.default=O}}]);
//# sourceMappingURL=13.e0680a63.chunk.js.map