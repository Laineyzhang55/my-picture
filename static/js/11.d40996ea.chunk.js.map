{"version":3,"sources":["pages/Login.js"],"names":["Login","styled","div","H2","h2","Component","observer","tailLayout","wrapperCol","offset","span","history","useHistory","AuthStore","useStores","labelCol","name","initialValues","remember","onFinish","values","setUsername","username","setPassword","password","login","then","push","catch","err","console","log","message","error","onFinishFailed","errorInfo","Item","label","rules","required","Password","type","htmlType"],"mappings":"qiBAQA,IAAMA,EAAQC,IAAOC,IAAV,KAOLC,EAAKF,IAAOG,GAAV,KAMFC,EAAWC,aAAS,WACxB,IAQMC,EAAa,CACjBC,WAAY,CACVC,OAAQ,EACRC,KAAM,KAIJC,EAAUC,cACRC,EAAcC,cAAdD,UAgBN,OACE,kBAACb,EAAD,KACE,kBAACG,EAAD,qBACF,kBAAC,IAAD,iBAnCW,CACbY,SAAU,CACRL,KAAM,GAERF,WAAY,CACVE,KAAM,KA8BN,CAEEM,KAAK,QACLC,cAAe,CACbC,UAAU,GAEZC,SAxBW,SAAAC,GACfP,EAAUQ,YAAYD,EAAOE,UAC7BT,EAAUU,YAAYH,EAAOI,UAC7BX,EAAUY,QAAQC,MAAK,WACrBf,EAAQgB,KAAK,cACZC,OAAM,SAACC,GACRC,QAAQC,IAAIF,GACZG,IAAQC,MAAM,gCAkBZC,eAdiB,SAAAC,GACrBL,QAAQC,IAAI,UAAWI,MAgBnB,kBAAC,IAAKC,KAAN,CACEC,MAAM,qBACNrB,KAAK,WACLsB,MAAO,CACL,CACEC,UAAU,EACVP,QAAS,0CAIb,kBAAC,IAAD,OAGF,kBAAC,IAAKI,KAAN,CACEC,MAAM,eACNrB,KAAK,WACLsB,MAAO,CACL,CACEC,UAAU,EACVP,QAAS,oCAIb,kBAAC,IAAMQ,SAAP,OAGF,kBAAC,IAAKJ,KAAS7B,EACb,kBAAC,IAAD,CAAQkC,KAAK,UAAUC,SAAS,UAAhC,sBASKrC","file":"static/js/11.d40996ea.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Form, Input, Button,message } from 'antd';\r\nimport styled from 'styled-components';\r\nimport { useStores } from '../stores';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { observer } from 'mobx-react'\r\n\r\n\r\nconst Login = styled.div`\r\n  margin: 50px auto;\r\n  padding: 30px 20px;\r\n  max-width: 600px;\r\n  border-radius: 6px;\r\n  box-shadow: 1px 0 2px 0 rgba(0, 0, 0, 0.5)\r\n`;\r\nconst H2 = styled.h2`\r\n  padding: 15px 0;\r\n  text-align: center;\r\n  font-size: 24px;\r\n`;\r\n\r\nconst Component =observer(() => {\r\n  const layout = {\r\n    labelCol: {\r\n      span: 6,\r\n    },\r\n    wrapperCol: {\r\n      span: 18,\r\n    },\r\n  };\r\n  const tailLayout = {\r\n    wrapperCol: {\r\n      offset: 6,\r\n      span: 18,\r\n    },\r\n  };\r\n\r\n  const history = useHistory();\r\n  const { AuthStore } = useStores();\r\n  const onFinish = values => {\r\n    AuthStore.setUsername(values.username);\r\n    AuthStore.setPassword(values.password);\r\n    AuthStore.login().then(()=>{\r\n      history.push('/upload');\r\n    }).catch((err)=> {\r\n      console.log(err)\r\n      message.error('登录失败')\r\n    })\r\n  };\r\n\r\n  const onFinishFailed = errorInfo => {\r\n    console.log('Failed:', errorInfo);\r\n  };\r\n  \r\n    return (\r\n      <Login>\r\n        <H2>登录</H2>\r\n      <Form\r\n        {...layout}\r\n        name=\"basic\"\r\n        initialValues={{\r\n          remember: true,\r\n        }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        \r\n        <Form.Item\r\n          label=\"用户名\"\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '请输入用户名',\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n  \r\n        <Form.Item\r\n          label=\"密码\"\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '请输入密码',\r\n            },\r\n          ]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n  \r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            提交\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n      </Login>\r\n    );\r\n  });  \r\n\r\nexport default Component;"],"sourceRoot":""}