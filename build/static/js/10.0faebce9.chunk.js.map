{"version":3,"sources":["pages/List.js","pages/History.js"],"names":["Image","styled","img","Total","observer","HistoryStore","useStores","useEffect","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","src","attributes","url","filename","target","href","tip","Record","div","History"],"mappings":"oTAOA,IAAMA,EAAQC,IAAOC,IAAV,KAmDIC,EA9CFC,aAAS,WAAM,IAClBC,EAAiBC,cAAjBD,aAQR,OAJAE,qBAAU,WACR,OAAO,kBAAMF,EAAaG,WACzB,IAGD,6BACE,kBAAC,IAAD,CACEC,aAAa,EACbC,UAAa,EACbC,SAZW,WACVN,EAAaO,QAYdC,SAAYR,EAAaS,WAAaT,EAAaQ,QACnDE,WAAa,GAEb,kBAAC,IAAD,CACEC,WAAcX,EAAaY,KAC3BC,WACE,SAAAC,GAAI,OACF,kBAAC,IAAKC,KAAN,CAAYC,IAAKF,EAAKG,IACpB,6BACE,kBAACtB,EAAD,CAAOuB,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,OAE7C,6BACE,4BAAKN,EAAKK,WAAWE,WAEvB,6BACE,uBAAGC,OAAO,SAASC,KAAMT,EAAKK,WAAWC,IAAID,WAAWC,KAAxD,gCAKPpB,EAAaS,WAAaT,EAAaQ,SACtC,6BACE,kBAAC,IAAD,CAAMgB,IAAI,8B,mIC7CxB,IAAMC,EAAS7B,IAAO8B,IAAV,KAcGC,UARC,WACd,OACE,kBAACF,EAAD,KACA,kBAAC,EAAD","file":"static/js/10.0faebce9.chunk.js","sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { useStores } from '../stores'; \r\nimport { observer } from 'mobx-react';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { List,  Spin } from 'antd';\r\nimport styled from 'styled-components';\r\n\r\nconst Image = styled.img`\r\n  width: 200px;\r\n  height: 125px;\r\n`;\r\n\r\nconst Total =observer(() =>{\r\n  const { HistoryStore } = useStores();\r\n  const handLoad = () => {\r\n         HistoryStore.find()\r\n       }\r\n  useEffect(() => {\r\n    return () => HistoryStore.reset();\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <InfiniteScroll \r\n        initialLoad={true}\r\n        pageStart = {0}\r\n        loadMore = {handLoad}\r\n        hasMore = {!HistoryStore.isLoading && HistoryStore.hasMore}\r\n        useWindow = {true}\r\n      >\r\n        <List\r\n          dataSource = {HistoryStore.list}\r\n          renderItem = {\r\n            item => \r\n              <List.Item  key={item.id}>\r\n                <div>\r\n                  <Image src={item.attributes.url.attributes.url} />\r\n                </div>\r\n                <div>\r\n                  <h5>{item.attributes.filename}</h5>\r\n                </div>\r\n                <div>\r\n                  <a target=\"_blank\" href={item.attributes.url.attributes.url} >点击预览</a>\r\n                </div>\r\n              </List.Item>\r\n          }\r\n        >\r\n          {HistoryStore.isLoading && HistoryStore.hasMore && (\r\n            <div>\r\n              <Spin tip='加载中' />\r\n            </div>\r\n          )}\r\n        </List>\r\n      </InfiniteScroll>\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Total;","import React from 'react';\r\nimport Total from './List';\r\nimport styled from 'styled-components';\r\n\r\nconst Record = styled.div`\r\n  margin: 30px;\r\n  padding 30px 50px;\r\n  background: #eee;\r\n`;\r\n\r\nconst History = () => {\r\n  return (\r\n    <Record>\r\n    <Total />\r\n    </Record>\r\n  )\r\n}\r\n\r\nexport default History;"],"sourceRoot":""}